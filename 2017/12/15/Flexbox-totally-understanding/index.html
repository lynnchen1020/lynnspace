<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><meta name="author" content="Lynn Chen"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Flexbox-totally-understanding</title><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="https://lynnchen1020.github.io/lynnspace/css/carbon.css"><script defer="defer" src="//cdn.jsdelivr.net/jquery/2.1.4/jquery.min.js"></script><script defer="defer" src="//cdn.jsdelivr.net/jquery.pjax/1.9.5/jquery.pjax.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.css" type="text/css" media="screen"><script defer="defer" type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>var performFancybox = true;</script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/katex/0.5.0/katex.min.css"><script async="async" type="text/javascript" src="//cdn.jsdelivr.net/katex/0.5.0/katex.min.js"></script><script async="async" type="text/javascript" src="//cdn.jsdelivr.net/katex/0.5.0/contrib/auto-render.min.js"></script><script>var doRenderMath = 'katex';</script><script defer="defer" src="https://lynnchen1020.github.io/lynnspace//js/carbon.js"></script></head><body><div id="container"><div id="banner"><h1 id="site-title"><a href="/">Carbon</a></h1><p id="site-subtitle">Learning, sharing, murmuring. Well, its all here.</p></div><div id="content"><div class="article-content"><div class="gallery"></div><h1 id="Flexbox-Totally-Understanding"><a href="#Flexbox-Totally-Understanding" class="headerlink" title="Flexbox Totally Understanding"></a>Flexbox Totally Understanding</h1><p>一直以來對 Flexbox 如何計算其 flex-grow, flex-basis, flex-shrink 有很大的疑惑，<br>今天有時間來好好研究一番，這篇 <a href="https://css-tricks.com/flex-grow-is-weird/" target="_blank" rel="noopener">css-trick 文章</a>一邊實作，並一邊核對與自己所理解的 flexbox 行為是否一致，<br>一步步帶我理解運作原理，廢話不多說，進入主題：</p>
<p><strong>flex-grow 是基於所剩寬度(parent寬度 - children總寬度)按比例分配給各children</strong><br><strong>將各子元素原始寬度+各剩餘寬度分配下來的數值，就是最終子元素寬度結果</strong></p>
<figure class="highlight plain"><figcaption><span>pug</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.main</span><br><span class="line">  .section Some Txt here...</span><br><span class="line">  .aside So many texts here here and here, more than section&apos;s content text!</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.main</span><br><span class="line">  display: flex</span><br><span class="line">  width: 900px</span><br><span class="line"></span><br><span class="line">.section</span><br><span class="line">  flex-grow: 2</span><br><span class="line"></span><br><span class="line">.aside</span><br><span class="line">  flex-grow: 1</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://codepen.io/matuzo/pen/ZQEWjg" target="_blank" rel="noopener">情況一</a>: 假設子元素有文字，子元素實際寬度則自動為文字內容最長寬度<br>parent width: 900px<br>section width: 99px<br>aside width: 623px<br>total flex-grow values: 3 -&gt; 子元素 flex-grow 加總值</p>
</blockquote>
<blockquote>
<p><strong>算出剩餘寬度</strong><br>剩餘寬度: 900 - 99 - 623 = 178px</p>
<p>section flex-grow 為 2<br>aside flex-grow 為 1</p>
</blockquote>
<blockquote>
<p><strong>將剩餘寬度分配給子元素</strong><br>section width: 178 x 2/3 = 118px<br>aside width: 178 x 1/3 = 60px</p>
</blockquote>
<blockquote>
<p><strong>各子元素原本寬度加上分配寬度 才是最後各子元素真實寬度</strong><br>section width: 99px + 118px = <b style="color: #369">217px</b><br>aside width: 623px + 60px = <b style="color: #369">683px</b></p>
</blockquote>
<figure class="highlight plain"><figcaption><span>pug</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.main</span><br><span class="line">  .section</span><br><span class="line">  .aside</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.main</span><br><span class="line">  display: flex</span><br><span class="line">  max-width: 900px</span><br><span class="line"></span><br><span class="line">.section</span><br><span class="line">  flex-grow: 2</span><br><span class="line">  flex-basis: 400px</span><br><span class="line"></span><br><span class="line">.aside</span><br><span class="line">  flex-grow: 1</span><br><span class="line">  flex-basis: 200px</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://codepen.io/matuzo/pen/ZQEWjg" target="_blank" rel="noopener">情況二</a>: 假設子元素’沒有’文字，但 flex-basis 自訂子元素寬度</p>
<p>parent width: 900px<br>section width: 400px (flex-basis value)<br>aside width: 200px (flex-basis value)<br>total flex-grow values: 3 -&gt; 子元素 flex-grow 加總值</p>
</blockquote>
<blockquote>
<p><strong>算出剩餘寬度</strong><br>剩餘寬度: 900 - 400 - 200 = 300px</p>
<p>section flex-grow 為 2<br>aside flex-grow 為 1</p>
<p><strong>將剩餘寬度分配給子元素</strong><br>section width: 300 x 2/3 = 200px<br>aside width: 300 x 1/3 = 100px</p>
<p><strong>各子元素原本寬度加上分配寬度 才是最後各子元素真實寬度</strong><br>section width: 400px + 200px = <b style="color: #369">600px</b><br>aside width: 200px + 100px = <b style="color: #369">300px</b></p>
</blockquote>
<figure class="highlight plain"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.main</span><br><span class="line">  display: flex</span><br><span class="line">  max-width: 900px</span><br><span class="line"></span><br><span class="line">.section, .aside</span><br><span class="line">  padding: 20px</span><br><span class="line">  margin: 15px</span><br><span class="line"></span><br><span class="line">.section</span><br><span class="line">  flex-grow: 2</span><br><span class="line">  flex-basis: 200px</span><br><span class="line"></span><br><span class="line">.aside</span><br><span class="line">  flex-grow: 1</span><br><span class="line">  flex-basis: 150px</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://codepen.io/matuzo/pen/wMaeVO" target="_blank" rel="noopener">情況三</a>: 如果子元素有 margin, padding，記得在一開始計算剩餘寬度時就要減掉</p>
</blockquote>
<blockquote>
<p><strong>算出剩餘寬度(沒有 border-box 時只需減掉 margin )</strong><br>剩餘寬度: 900 - 200 - 150 - (15x4) = 490px</p>
<p><strong>將剩餘寬度分配給子元素</strong><br>section width: 490 x 2/3 = 326.666px<br>aside width: 490 x 1/3 = 163.333px</p>
<p><strong>各子元素原本寬度加上分配寬度 才是最後各子元素真實寬度</strong><br>section width: 200px + 326px = <b style="color: #369">526px</b><br>aside width: 150px + 163px = <b style="color: #369">313px</b></p>
</blockquote>
</div><nav class="pagination"><a id="right-navigator" href="/2017/12/07/zoho-Email-server/">Zoho Email Server</a></nav></div><nav id="footer"><ul id="footer-links"><li><a href="/about" class="zh">關於</a></li><li><a href="/archives" class="zh">所有文章</a></li><li><a href="https://github.com/lynnchen1020" class="zh out-site">章魚貓</a></li></ul></nav></div></body></html>